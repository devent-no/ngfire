import { Timestamp } from "firebase/firestore";
/** Return the full path of the doc */
export function getDocPath(path, id) {
    // If path is smaller than id, id is the full path from ref
    return path.split('/').length < id.split('/').length ? id : `${path}/${id}`;
}
/** Recursively all Timestamp into Date */
export function toDate(target) {
    if (typeof target !== 'object')
        return target;
    for (const key in target) {
        const value = target[key];
        if (!value || typeof value !== 'object')
            continue;
        if (value instanceof Timestamp) {
            target[key] = value.toDate();
            continue;
        }
        toDate(value);
    }
    return target;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXRpbHMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9saWJzL25nZmlyZS9maXJlc3RvcmUvc3JjL3V0aWxzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSxvQkFBb0IsQ0FBQztBQUUvQyxzQ0FBc0M7QUFDdEMsTUFBTSxVQUFVLFVBQVUsQ0FBQyxJQUFZLEVBQUUsRUFBVTtJQUNqRCwyREFBMkQ7SUFDM0QsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLE1BQU0sR0FBRyxFQUFFLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksSUFBSSxFQUFFLEVBQUUsQ0FBQztBQUM5RSxDQUFDO0FBRUQsMENBQTBDO0FBQzFDLE1BQU0sVUFBVSxNQUFNLENBQUksTUFBUztJQUNqQyxJQUFJLE9BQU8sTUFBTSxLQUFLLFFBQVE7UUFBRSxPQUFPLE1BQU0sQ0FBQztJQUM5QyxLQUFLLE1BQU0sR0FBRyxJQUFJLE1BQU0sRUFBRTtRQUN4QixNQUFNLEtBQUssR0FBRyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDMUIsSUFBSSxDQUFDLEtBQUssSUFBSSxPQUFPLEtBQUssS0FBSyxRQUFRO1lBQUUsU0FBUztRQUNsRCxJQUFJLEtBQUssWUFBWSxTQUFTLEVBQUU7WUFDOUIsTUFBTSxDQUFDLEdBQUcsQ0FBQyxHQUFHLEtBQUssQ0FBQyxNQUFNLEVBQVMsQ0FBQztZQUNwQyxTQUFTO1NBQ1Y7UUFDRCxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUE7S0FDZDtJQUNELE9BQU8sTUFBTSxDQUFDO0FBQ2hCLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBUaW1lc3RhbXAgfSBmcm9tIFwiZmlyZWJhc2UvZmlyZXN0b3JlXCI7XG5cbi8qKiBSZXR1cm4gdGhlIGZ1bGwgcGF0aCBvZiB0aGUgZG9jICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0RG9jUGF0aChwYXRoOiBzdHJpbmcsIGlkOiBzdHJpbmcpIHtcbiAgLy8gSWYgcGF0aCBpcyBzbWFsbGVyIHRoYW4gaWQsIGlkIGlzIHRoZSBmdWxsIHBhdGggZnJvbSByZWZcbiAgcmV0dXJuIHBhdGguc3BsaXQoJy8nKS5sZW5ndGggPCBpZC5zcGxpdCgnLycpLmxlbmd0aCA/IGlkIDogYCR7cGF0aH0vJHtpZH1gO1xufVxuXG4vKiogUmVjdXJzaXZlbHkgYWxsIFRpbWVzdGFtcCBpbnRvIERhdGUgKi9cbmV4cG9ydCBmdW5jdGlvbiB0b0RhdGU8RD4odGFyZ2V0OiBEKTogRCB7XG4gIGlmICh0eXBlb2YgdGFyZ2V0ICE9PSAnb2JqZWN0JykgcmV0dXJuIHRhcmdldDtcbiAgZm9yIChjb25zdCBrZXkgaW4gdGFyZ2V0KSB7XG4gICAgY29uc3QgdmFsdWUgPSB0YXJnZXRba2V5XTtcbiAgICBpZiAoIXZhbHVlIHx8IHR5cGVvZiB2YWx1ZSAhPT0gJ29iamVjdCcpIGNvbnRpbnVlO1xuICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIFRpbWVzdGFtcCkge1xuICAgICAgdGFyZ2V0W2tleV0gPSB2YWx1ZS50b0RhdGUoKSBhcyBhbnk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgdG9EYXRlKHZhbHVlKVxuICB9XG4gIHJldHVybiB0YXJnZXQ7XG59XG4iXX0=