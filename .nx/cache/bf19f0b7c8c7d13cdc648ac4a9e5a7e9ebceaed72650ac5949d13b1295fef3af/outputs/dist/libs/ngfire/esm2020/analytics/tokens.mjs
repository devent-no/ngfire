import { inject, InjectFlags, InjectionToken } from "@angular/core";
import { initializeAnalytics } from "firebase/analytics";
import { ANALYTICS_SETTINGS, getConfig } from "ngfire/tokens";
import { FIREBASE_APP } from "ngfire/app";
export const FIRE_ANALYTICS = new InjectionToken('Firebase Analytics instance', {
    providedIn: 'root',
    factory: () => {
        const config = getConfig();
        const settings = inject(ANALYTICS_SETTINGS, InjectFlags.Optional);
        const app = inject(FIREBASE_APP);
        if (config.analytics) {
            return config.analytics(app, settings ?? {});
        }
        else {
            return initializeAnalytics(app, settings ?? {});
        }
    },
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidG9rZW5zLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vbGlicy9uZ2ZpcmUvYW5hbHl0aWNzL3NyYy90b2tlbnMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLE1BQU0sRUFBRSxXQUFXLEVBQUUsY0FBYyxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQ3BFLE9BQU8sRUFBYSxtQkFBbUIsRUFBRSxNQUFNLG9CQUFvQixDQUFDO0FBQ3BFLE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxTQUFTLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDOUQsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLFlBQVksQ0FBQztBQUcxQyxNQUFNLENBQUMsTUFBTSxjQUFjLEdBQUcsSUFBSSxjQUFjLENBQVksNkJBQTZCLEVBQUU7SUFDekYsVUFBVSxFQUFFLE1BQU07SUFDbEIsT0FBTyxFQUFFLEdBQUcsRUFBRTtRQUNaLE1BQU0sTUFBTSxHQUFHLFNBQVMsRUFBRSxDQUFDO1FBQzNCLE1BQU0sUUFBUSxHQUFHLE1BQU0sQ0FBQyxrQkFBa0IsRUFBRSxXQUFXLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDbEUsTUFBTSxHQUFHLEdBQUcsTUFBTSxDQUFDLFlBQVksQ0FBQyxDQUFDO1FBQ2pDLElBQUksTUFBTSxDQUFDLFNBQVMsRUFBRTtZQUNwQixPQUFPLE1BQU0sQ0FBQyxTQUFTLENBQUMsR0FBRyxFQUFFLFFBQVEsSUFBSSxFQUFFLENBQUMsQ0FBQztTQUM5QzthQUFNO1lBQ0wsT0FBTyxtQkFBbUIsQ0FBQyxHQUFHLEVBQUUsUUFBUSxJQUFJLEVBQUUsQ0FBQyxDQUFDO1NBQ2pEO0lBQ0gsQ0FBQztDQUNGLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGluamVjdCwgSW5qZWN0RmxhZ3MsIEluamVjdGlvblRva2VuIH0gZnJvbSBcIkBhbmd1bGFyL2NvcmVcIjtcbmltcG9ydCB7IEFuYWx5dGljcywgaW5pdGlhbGl6ZUFuYWx5dGljcyB9IGZyb20gXCJmaXJlYmFzZS9hbmFseXRpY3NcIjtcbmltcG9ydCB7IEFOQUxZVElDU19TRVRUSU5HUywgZ2V0Q29uZmlnIH0gZnJvbSBcIm5nZmlyZS90b2tlbnNcIjtcbmltcG9ydCB7IEZJUkVCQVNFX0FQUCB9IGZyb20gXCJuZ2ZpcmUvYXBwXCI7XG5cblxuZXhwb3J0IGNvbnN0IEZJUkVfQU5BTFlUSUNTID0gbmV3IEluamVjdGlvblRva2VuPEFuYWx5dGljcz4oJ0ZpcmViYXNlIEFuYWx5dGljcyBpbnN0YW5jZScsIHtcbiAgcHJvdmlkZWRJbjogJ3Jvb3QnLFxuICBmYWN0b3J5OiAoKSA9PiB7XG4gICAgY29uc3QgY29uZmlnID0gZ2V0Q29uZmlnKCk7XG4gICAgY29uc3Qgc2V0dGluZ3MgPSBpbmplY3QoQU5BTFlUSUNTX1NFVFRJTkdTLCBJbmplY3RGbGFncy5PcHRpb25hbCk7XG4gICAgY29uc3QgYXBwID0gaW5qZWN0KEZJUkVCQVNFX0FQUCk7XG4gICAgaWYgKGNvbmZpZy5hbmFseXRpY3MpIHtcbiAgICAgIHJldHVybiBjb25maWcuYW5hbHl0aWNzKGFwcCwgc2V0dGluZ3MgPz8ge30pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gaW5pdGlhbGl6ZUFuYWx5dGljcyhhcHAsIHNldHRpbmdzID8/IHt9KTtcbiAgICB9XG4gIH0sXG59KTtcbiJdfQ==