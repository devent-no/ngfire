import { inject, InjectFlags, InjectionToken } from "@angular/core";
import { initializeApp } from "firebase/app";
import { FIREBASE_APP_SETTINGS, FIREBASE_CONFIG } from "ngfire/tokens";
export const FIREBASE_APP = new InjectionToken('Firebase application', {
    providedIn: 'root',
    factory: () => {
        const config = inject(FIREBASE_CONFIG);
        const settings = inject(FIREBASE_APP_SETTINGS, InjectFlags.Optional);
        if (config.app) {
            return config.app();
        }
        else {
            return initializeApp(config.options, settings ?? undefined);
        }
    },
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9saWJzL25nZmlyZS9hcHAvc3JjL2luZGV4LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxNQUFNLEVBQUUsV0FBVyxFQUFFLGNBQWMsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUNwRSxPQUFPLEVBQWUsYUFBYSxFQUFFLE1BQU0sY0FBYyxDQUFDO0FBQzFELE9BQU8sRUFBRSxxQkFBcUIsRUFBRSxlQUFlLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFFdkUsTUFBTSxDQUFDLE1BQU0sWUFBWSxHQUFHLElBQUksY0FBYyxDQUFjLHNCQUFzQixFQUFFO0lBQ2xGLFVBQVUsRUFBRSxNQUFNO0lBQ2xCLE9BQU8sRUFBRSxHQUFHLEVBQUU7UUFDWixNQUFNLE1BQU0sR0FBRyxNQUFNLENBQUMsZUFBZSxDQUFDLENBQUM7UUFDdkMsTUFBTSxRQUFRLEdBQUcsTUFBTSxDQUFDLHFCQUFxQixFQUFFLFdBQVcsQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUNyRSxJQUFJLE1BQU0sQ0FBQyxHQUFHLEVBQUU7WUFDZCxPQUFPLE1BQU0sQ0FBQyxHQUFHLEVBQUUsQ0FBQztTQUNyQjthQUFNO1lBQ0wsT0FBTyxhQUFhLENBQUMsTUFBTSxDQUFDLE9BQU8sRUFBRSxRQUFRLElBQUksU0FBUyxDQUFDLENBQUM7U0FDN0Q7SUFDSCxDQUFDO0NBQ0YsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaW5qZWN0LCBJbmplY3RGbGFncywgSW5qZWN0aW9uVG9rZW4gfSBmcm9tIFwiQGFuZ3VsYXIvY29yZVwiO1xuaW1wb3J0IHsgRmlyZWJhc2VBcHAsIGluaXRpYWxpemVBcHAgfSBmcm9tIFwiZmlyZWJhc2UvYXBwXCI7XG5pbXBvcnQgeyBGSVJFQkFTRV9BUFBfU0VUVElOR1MsIEZJUkVCQVNFX0NPTkZJRyB9IGZyb20gXCJuZ2ZpcmUvdG9rZW5zXCI7XG5cbmV4cG9ydCBjb25zdCBGSVJFQkFTRV9BUFAgPSBuZXcgSW5qZWN0aW9uVG9rZW48RmlyZWJhc2VBcHA+KCdGaXJlYmFzZSBhcHBsaWNhdGlvbicsIHtcbiAgcHJvdmlkZWRJbjogJ3Jvb3QnLFxuICBmYWN0b3J5OiAoKSA9PiB7XG4gICAgY29uc3QgY29uZmlnID0gaW5qZWN0KEZJUkVCQVNFX0NPTkZJRyk7XG4gICAgY29uc3Qgc2V0dGluZ3MgPSBpbmplY3QoRklSRUJBU0VfQVBQX1NFVFRJTkdTLCBJbmplY3RGbGFncy5PcHRpb25hbCk7XG4gICAgaWYgKGNvbmZpZy5hcHApIHtcbiAgICAgIHJldHVybiBjb25maWcuYXBwKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBpbml0aWFsaXplQXBwKGNvbmZpZy5vcHRpb25zLCBzZXR0aW5ncyA/PyB1bmRlZmluZWQpO1xuICAgIH1cbiAgfSxcbn0pO1xuXG4iXX0=