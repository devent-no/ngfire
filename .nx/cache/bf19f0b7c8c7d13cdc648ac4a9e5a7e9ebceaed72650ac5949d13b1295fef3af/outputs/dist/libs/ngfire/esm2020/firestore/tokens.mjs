import { inject, InjectFlags, InjectionToken } from "@angular/core";
import { initializeFirestore } from "firebase/firestore";
import { FIRESTORE_SETTINGS, getConfig } from "ngfire/tokens";
import { FIREBASE_APP } from "ngfire/app";
export const FIRESTORE = new InjectionToken('Firestore instance', {
    providedIn: 'root',
    factory: () => {
        const config = getConfig();
        const settings = inject(FIRESTORE_SETTINGS, InjectFlags.Optional);
        const app = inject(FIREBASE_APP);
        if (config.firestore) {
            return config.firestore(app, settings ?? {});
        }
        else {
            return initializeFirestore(app, settings ?? {});
        }
    },
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidG9rZW5zLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vbGlicy9uZ2ZpcmUvZmlyZXN0b3JlL3NyYy90b2tlbnMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLE1BQU0sRUFBRSxXQUFXLEVBQUUsY0FBYyxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBRXBFLE9BQU8sRUFBRSxtQkFBbUIsRUFBRSxNQUFNLG9CQUFvQixDQUFDO0FBQ3pELE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxTQUFTLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDOUQsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLFlBQVksQ0FBQztBQUcxQyxNQUFNLENBQUMsTUFBTSxTQUFTLEdBQUcsSUFBSSxjQUFjLENBQVksb0JBQW9CLEVBQUU7SUFDM0UsVUFBVSxFQUFFLE1BQU07SUFDbEIsT0FBTyxFQUFFLEdBQUcsRUFBRTtRQUNaLE1BQU0sTUFBTSxHQUFHLFNBQVMsRUFBRSxDQUFDO1FBQzNCLE1BQU0sUUFBUSxHQUFHLE1BQU0sQ0FBQyxrQkFBa0IsRUFBRSxXQUFXLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDbEUsTUFBTSxHQUFHLEdBQUcsTUFBTSxDQUFDLFlBQVksQ0FBQyxDQUFDO1FBQ2pDLElBQUksTUFBTSxDQUFDLFNBQVMsRUFBRTtZQUNwQixPQUFPLE1BQU0sQ0FBQyxTQUFTLENBQUMsR0FBRyxFQUFFLFFBQVEsSUFBSSxFQUFFLENBQUMsQ0FBQztTQUM5QzthQUFNO1lBQ0wsT0FBTyxtQkFBbUIsQ0FBQyxHQUFHLEVBQUUsUUFBUSxJQUFJLEVBQUUsQ0FBQyxDQUFDO1NBQ2pEO0lBQ0gsQ0FBQztDQUNGLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGluamVjdCwgSW5qZWN0RmxhZ3MsIEluamVjdGlvblRva2VuIH0gZnJvbSBcIkBhbmd1bGFyL2NvcmVcIjtcbmltcG9ydCB7IEZpcmVzdG9yZSB9IGZyb20gJ2ZpcmViYXNlL2ZpcmVzdG9yZSc7XG5pbXBvcnQgeyBpbml0aWFsaXplRmlyZXN0b3JlIH0gZnJvbSBcImZpcmViYXNlL2ZpcmVzdG9yZVwiO1xuaW1wb3J0IHsgRklSRVNUT1JFX1NFVFRJTkdTLCBnZXRDb25maWcgfSBmcm9tIFwibmdmaXJlL3Rva2Vuc1wiO1xuaW1wb3J0IHsgRklSRUJBU0VfQVBQIH0gZnJvbSBcIm5nZmlyZS9hcHBcIjtcblxuXG5leHBvcnQgY29uc3QgRklSRVNUT1JFID0gbmV3IEluamVjdGlvblRva2VuPEZpcmVzdG9yZT4oJ0ZpcmVzdG9yZSBpbnN0YW5jZScsIHtcbiAgcHJvdmlkZWRJbjogJ3Jvb3QnLFxuICBmYWN0b3J5OiAoKSA9PiB7XG4gICAgY29uc3QgY29uZmlnID0gZ2V0Q29uZmlnKCk7XG4gICAgY29uc3Qgc2V0dGluZ3MgPSBpbmplY3QoRklSRVNUT1JFX1NFVFRJTkdTLCBJbmplY3RGbGFncy5PcHRpb25hbCk7XG4gICAgY29uc3QgYXBwID0gaW5qZWN0KEZJUkVCQVNFX0FQUCk7XG4gICAgaWYgKGNvbmZpZy5maXJlc3RvcmUpIHtcbiAgICAgIHJldHVybiBjb25maWcuZmlyZXN0b3JlKGFwcCwgc2V0dGluZ3MgPz8ge30pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gaW5pdGlhbGl6ZUZpcmVzdG9yZShhcHAsIHNldHRpbmdzID8/IHt9KTtcbiAgICB9XG4gIH0sXG59KTtcbiJdfQ==