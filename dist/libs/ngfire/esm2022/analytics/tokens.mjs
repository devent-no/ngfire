import { inject, InjectFlags, InjectionToken } from "@angular/core";
import { initializeAnalytics } from "firebase/analytics";
import { ANALYTICS_SETTINGS, getConfig } from "ngfire/tokens";
import { FIREBASE_APP } from "ngfire/app";
export const FIRE_ANALYTICS = new InjectionToken('Firebase Analytics instance', {
    providedIn: 'root',
    factory: () => {
        const config = getConfig();
        const settings = inject(ANALYTICS_SETTINGS, InjectFlags.Optional);
        const app = inject(FIREBASE_APP);
        if (config.analytics) {
            return config.analytics(app, settings ?? {});
        }
        else {
            return initializeAnalytics(app, settings ?? {});
        }
    },
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidG9rZW5zLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vbGlicy9uZ2ZpcmUvYW5hbHl0aWNzL3NyYy90b2tlbnMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLE1BQU0sRUFBRSxXQUFXLEVBQUUsY0FBYyxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQ3BFLE9BQU8sRUFBYSxtQkFBbUIsRUFBRSxNQUFNLG9CQUFvQixDQUFDO0FBQ3BFLE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxTQUFTLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDOUQsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLFlBQVksQ0FBQztBQUcxQyxNQUFNLENBQUMsTUFBTSxjQUFjLEdBQUcsSUFBSSxjQUFjLENBQVksNkJBQTZCLEVBQUU7SUFDekYsVUFBVSxFQUFFLE1BQU07SUFDbEIsT0FBTyxFQUFFLEdBQUcsRUFBRTtRQUNaLE1BQU0sTUFBTSxHQUFHLFNBQVMsRUFBRSxDQUFDO1FBQzNCLE1BQU0sUUFBUSxHQUFHLE1BQU0sQ0FBQyxrQkFBa0IsRUFBRSxXQUFXLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDbEUsTUFBTSxHQUFHLEdBQUcsTUFBTSxDQUFDLFlBQVksQ0FBQyxDQUFDO1FBQ2pDLElBQUksTUFBTSxDQUFDLFNBQVMsRUFBRSxDQUFDO1lBQ3JCLE9BQU8sTUFBTSxDQUFDLFNBQVMsQ0FBQyxHQUFHLEVBQUUsUUFBUSxJQUFJLEVBQUUsQ0FBQyxDQUFDO1FBQy9DLENBQUM7YUFBTSxDQUFDO1lBQ04sT0FBTyxtQkFBbUIsQ0FBQyxHQUFHLEVBQUUsUUFBUSxJQUFJLEVBQUUsQ0FBQyxDQUFDO1FBQ2xELENBQUM7SUFDSCxDQUFDO0NBQ0YsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaW5qZWN0LCBJbmplY3RGbGFncywgSW5qZWN0aW9uVG9rZW4gfSBmcm9tIFwiQGFuZ3VsYXIvY29yZVwiO1xuaW1wb3J0IHsgQW5hbHl0aWNzLCBpbml0aWFsaXplQW5hbHl0aWNzIH0gZnJvbSBcImZpcmViYXNlL2FuYWx5dGljc1wiO1xuaW1wb3J0IHsgQU5BTFlUSUNTX1NFVFRJTkdTLCBnZXRDb25maWcgfSBmcm9tIFwibmdmaXJlL3Rva2Vuc1wiO1xuaW1wb3J0IHsgRklSRUJBU0VfQVBQIH0gZnJvbSBcIm5nZmlyZS9hcHBcIjtcblxuXG5leHBvcnQgY29uc3QgRklSRV9BTkFMWVRJQ1MgPSBuZXcgSW5qZWN0aW9uVG9rZW48QW5hbHl0aWNzPignRmlyZWJhc2UgQW5hbHl0aWNzIGluc3RhbmNlJywge1xuICBwcm92aWRlZEluOiAncm9vdCcsXG4gIGZhY3Rvcnk6ICgpID0+IHtcbiAgICBjb25zdCBjb25maWcgPSBnZXRDb25maWcoKTtcbiAgICBjb25zdCBzZXR0aW5ncyA9IGluamVjdChBTkFMWVRJQ1NfU0VUVElOR1MsIEluamVjdEZsYWdzLk9wdGlvbmFsKTtcbiAgICBjb25zdCBhcHAgPSBpbmplY3QoRklSRUJBU0VfQVBQKTtcbiAgICBpZiAoY29uZmlnLmFuYWx5dGljcykge1xuICAgICAgcmV0dXJuIGNvbmZpZy5hbmFseXRpY3MoYXBwLCBzZXR0aW5ncyA/PyB7fSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBpbml0aWFsaXplQW5hbHl0aWNzKGFwcCwgc2V0dGluZ3MgPz8ge30pO1xuICAgIH1cbiAgfSxcbn0pO1xuIl19