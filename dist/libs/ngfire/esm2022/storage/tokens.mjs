import { inject, InjectFlags, InjectionToken } from "@angular/core";
import { getStorage } from "firebase/storage";
import { FIREBASE_APP } from "ngfire/app";
import { getConfig, STORAGE_BUCKET } from "ngfire/tokens";
export const FIRE_STORAGE = new InjectionToken('Firebase Storage', {
    providedIn: 'root',
    factory: () => {
        const config = getConfig();
        const app = inject(FIREBASE_APP);
        const bucket = inject(STORAGE_BUCKET, InjectFlags.Optional);
        if (config.storage) {
            return config.storage(app, bucket ?? undefined);
        }
        else {
            return getStorage(app, bucket ?? undefined);
        }
    },
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidG9rZW5zLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vbGlicy9uZ2ZpcmUvc3RvcmFnZS9zcmMvdG9rZW5zLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxNQUFNLEVBQUUsV0FBVyxFQUFFLGNBQWMsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUNwRSxPQUFPLEVBQW1CLFVBQVUsRUFBRSxNQUFNLGtCQUFrQixDQUFDO0FBQy9ELE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSxZQUFZLENBQUM7QUFDMUMsT0FBTyxFQUFFLFNBQVMsRUFBRSxjQUFjLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFHMUQsTUFBTSxDQUFDLE1BQU0sWUFBWSxHQUFHLElBQUksY0FBYyxDQUFrQixrQkFBa0IsRUFBRTtJQUNsRixVQUFVLEVBQUUsTUFBTTtJQUNsQixPQUFPLEVBQUUsR0FBRyxFQUFFO1FBQ1osTUFBTSxNQUFNLEdBQUcsU0FBUyxFQUFFLENBQUM7UUFDM0IsTUFBTSxHQUFHLEdBQUcsTUFBTSxDQUFDLFlBQVksQ0FBQyxDQUFDO1FBQ2pDLE1BQU0sTUFBTSxHQUFHLE1BQU0sQ0FBQyxjQUFjLEVBQUUsV0FBVyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQzVELElBQUksTUFBTSxDQUFDLE9BQU8sRUFBRSxDQUFDO1lBQ25CLE9BQU8sTUFBTSxDQUFDLE9BQU8sQ0FBQyxHQUFHLEVBQUUsTUFBTSxJQUFJLFNBQVMsQ0FBQyxDQUFDO1FBQ2xELENBQUM7YUFBTSxDQUFDO1lBQ04sT0FBTyxVQUFVLENBQUMsR0FBRyxFQUFFLE1BQU0sSUFBSSxTQUFTLENBQUMsQ0FBQztRQUM5QyxDQUFDO0lBQ0gsQ0FBQztDQUNGLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGluamVjdCwgSW5qZWN0RmxhZ3MsIEluamVjdGlvblRva2VuIH0gZnJvbSBcIkBhbmd1bGFyL2NvcmVcIjtcbmltcG9ydCB7IEZpcmViYXNlU3RvcmFnZSwgZ2V0U3RvcmFnZSB9IGZyb20gXCJmaXJlYmFzZS9zdG9yYWdlXCI7XG5pbXBvcnQgeyBGSVJFQkFTRV9BUFAgfSBmcm9tIFwibmdmaXJlL2FwcFwiO1xuaW1wb3J0IHsgZ2V0Q29uZmlnLCBTVE9SQUdFX0JVQ0tFVCB9IGZyb20gXCJuZ2ZpcmUvdG9rZW5zXCI7XG5cblxuZXhwb3J0IGNvbnN0IEZJUkVfU1RPUkFHRSA9IG5ldyBJbmplY3Rpb25Ub2tlbjxGaXJlYmFzZVN0b3JhZ2U+KCdGaXJlYmFzZSBTdG9yYWdlJywge1xuICBwcm92aWRlZEluOiAncm9vdCcsXG4gIGZhY3Rvcnk6ICgpID0+IHtcbiAgICBjb25zdCBjb25maWcgPSBnZXRDb25maWcoKTtcbiAgICBjb25zdCBhcHAgPSBpbmplY3QoRklSRUJBU0VfQVBQKTtcbiAgICBjb25zdCBidWNrZXQgPSBpbmplY3QoU1RPUkFHRV9CVUNLRVQsIEluamVjdEZsYWdzLk9wdGlvbmFsKTtcbiAgICBpZiAoY29uZmlnLnN0b3JhZ2UpIHtcbiAgICAgIHJldHVybiBjb25maWcuc3RvcmFnZShhcHAsIGJ1Y2tldCA/PyB1bmRlZmluZWQpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZ2V0U3RvcmFnZShhcHAsIGJ1Y2tldCA/PyB1bmRlZmluZWQpO1xuICAgIH1cbiAgfSxcbn0pO1xuIl19