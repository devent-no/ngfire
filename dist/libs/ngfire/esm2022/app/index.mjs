import { inject, InjectFlags, InjectionToken } from "@angular/core";
import { initializeApp } from "firebase/app";
import { FIREBASE_APP_SETTINGS, FIREBASE_CONFIG } from "ngfire/tokens";
export const FIREBASE_APP = new InjectionToken('Firebase application', {
    providedIn: 'root',
    factory: () => {
        const config = inject(FIREBASE_CONFIG);
        const settings = inject(FIREBASE_APP_SETTINGS, InjectFlags.Optional);
        if (config.app) {
            return config.app();
        }
        else {
            return initializeApp(config.options, settings ?? undefined);
        }
    },
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9saWJzL25nZmlyZS9hcHAvc3JjL2luZGV4LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxNQUFNLEVBQUUsV0FBVyxFQUFFLGNBQWMsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUNwRSxPQUFPLEVBQWUsYUFBYSxFQUFFLE1BQU0sY0FBYyxDQUFDO0FBQzFELE9BQU8sRUFBRSxxQkFBcUIsRUFBRSxlQUFlLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFFdkUsTUFBTSxDQUFDLE1BQU0sWUFBWSxHQUFHLElBQUksY0FBYyxDQUFjLHNCQUFzQixFQUFFO0lBQ2xGLFVBQVUsRUFBRSxNQUFNO0lBQ2xCLE9BQU8sRUFBRSxHQUFHLEVBQUU7UUFDWixNQUFNLE1BQU0sR0FBRyxNQUFNLENBQUMsZUFBZSxDQUFDLENBQUM7UUFDdkMsTUFBTSxRQUFRLEdBQUcsTUFBTSxDQUFDLHFCQUFxQixFQUFFLFdBQVcsQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUNyRSxJQUFJLE1BQU0sQ0FBQyxHQUFHLEVBQUUsQ0FBQztZQUNmLE9BQU8sTUFBTSxDQUFDLEdBQUcsRUFBRSxDQUFDO1FBQ3RCLENBQUM7YUFBTSxDQUFDO1lBQ04sT0FBTyxhQUFhLENBQUMsTUFBTSxDQUFDLE9BQU8sRUFBRSxRQUFRLElBQUksU0FBUyxDQUFDLENBQUM7UUFDOUQsQ0FBQztJQUNILENBQUM7Q0FDRixDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpbmplY3QsIEluamVjdEZsYWdzLCBJbmplY3Rpb25Ub2tlbiB9IGZyb20gXCJAYW5ndWxhci9jb3JlXCI7XG5pbXBvcnQgeyBGaXJlYmFzZUFwcCwgaW5pdGlhbGl6ZUFwcCB9IGZyb20gXCJmaXJlYmFzZS9hcHBcIjtcbmltcG9ydCB7IEZJUkVCQVNFX0FQUF9TRVRUSU5HUywgRklSRUJBU0VfQ09ORklHIH0gZnJvbSBcIm5nZmlyZS90b2tlbnNcIjtcblxuZXhwb3J0IGNvbnN0IEZJUkVCQVNFX0FQUCA9IG5ldyBJbmplY3Rpb25Ub2tlbjxGaXJlYmFzZUFwcD4oJ0ZpcmViYXNlIGFwcGxpY2F0aW9uJywge1xuICBwcm92aWRlZEluOiAncm9vdCcsXG4gIGZhY3Rvcnk6ICgpID0+IHtcbiAgICBjb25zdCBjb25maWcgPSBpbmplY3QoRklSRUJBU0VfQ09ORklHKTtcbiAgICBjb25zdCBzZXR0aW5ncyA9IGluamVjdChGSVJFQkFTRV9BUFBfU0VUVElOR1MsIEluamVjdEZsYWdzLk9wdGlvbmFsKTtcbiAgICBpZiAoY29uZmlnLmFwcCkge1xuICAgICAgcmV0dXJuIGNvbmZpZy5hcHAoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGluaXRpYWxpemVBcHAoY29uZmlnLm9wdGlvbnMsIHNldHRpbmdzID8/IHVuZGVmaW5lZCk7XG4gICAgfVxuICB9LFxufSk7XG5cbiJdfQ==