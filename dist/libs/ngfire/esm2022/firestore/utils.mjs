import { Timestamp } from "firebase/firestore";
/** Return the full path of the doc */
export function getDocPath(path, id) {
    // If path is smaller than id, id is the full path from ref
    return path.split('/').length < id.split('/').length ? id : `${path}/${id}`;
}
/** Recursively all Timestamp into Date */
export function toDate(target) {
    if (typeof target !== 'object')
        return target;
    for (const key in target) {
        const value = target[key];
        if (!value || typeof value !== 'object')
            continue;
        if (value instanceof Timestamp) {
            target[key] = value.toDate();
            continue;
        }
        toDate(value);
    }
    return target;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXRpbHMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9saWJzL25nZmlyZS9maXJlc3RvcmUvc3JjL3V0aWxzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSxvQkFBb0IsQ0FBQztBQUUvQyxzQ0FBc0M7QUFDdEMsTUFBTSxVQUFVLFVBQVUsQ0FBQyxJQUFZLEVBQUUsRUFBVTtJQUNqRCwyREFBMkQ7SUFDM0QsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLE1BQU0sR0FBRyxFQUFFLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksSUFBSSxFQUFFLEVBQUUsQ0FBQztBQUM5RSxDQUFDO0FBRUQsMENBQTBDO0FBQzFDLE1BQU0sVUFBVSxNQUFNLENBQUksTUFBUztJQUNqQyxJQUFJLE9BQU8sTUFBTSxLQUFLLFFBQVE7UUFBRSxPQUFPLE1BQU0sQ0FBQztJQUM5QyxLQUFLLE1BQU0sR0FBRyxJQUFJLE1BQU0sRUFBRSxDQUFDO1FBQ3pCLE1BQU0sS0FBSyxHQUFHLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUMxQixJQUFJLENBQUMsS0FBSyxJQUFJLE9BQU8sS0FBSyxLQUFLLFFBQVE7WUFBRSxTQUFTO1FBQ2xELElBQUksS0FBSyxZQUFZLFNBQVMsRUFBRSxDQUFDO1lBQy9CLE1BQU0sQ0FBQyxHQUFHLENBQUMsR0FBRyxLQUFLLENBQUMsTUFBTSxFQUFTLENBQUM7WUFDcEMsU0FBUztRQUNYLENBQUM7UUFDRCxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUE7SUFDZixDQUFDO0lBQ0QsT0FBTyxNQUFNLENBQUM7QUFDaEIsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFRpbWVzdGFtcCB9IGZyb20gXCJmaXJlYmFzZS9maXJlc3RvcmVcIjtcblxuLyoqIFJldHVybiB0aGUgZnVsbCBwYXRoIG9mIHRoZSBkb2MgKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXREb2NQYXRoKHBhdGg6IHN0cmluZywgaWQ6IHN0cmluZykge1xuICAvLyBJZiBwYXRoIGlzIHNtYWxsZXIgdGhhbiBpZCwgaWQgaXMgdGhlIGZ1bGwgcGF0aCBmcm9tIHJlZlxuICByZXR1cm4gcGF0aC5zcGxpdCgnLycpLmxlbmd0aCA8IGlkLnNwbGl0KCcvJykubGVuZ3RoID8gaWQgOiBgJHtwYXRofS8ke2lkfWA7XG59XG5cbi8qKiBSZWN1cnNpdmVseSBhbGwgVGltZXN0YW1wIGludG8gRGF0ZSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvRGF0ZTxEPih0YXJnZXQ6IEQpOiBEIHtcbiAgaWYgKHR5cGVvZiB0YXJnZXQgIT09ICdvYmplY3QnKSByZXR1cm4gdGFyZ2V0O1xuICBmb3IgKGNvbnN0IGtleSBpbiB0YXJnZXQpIHtcbiAgICBjb25zdCB2YWx1ZSA9IHRhcmdldFtrZXldO1xuICAgIGlmICghdmFsdWUgfHwgdHlwZW9mIHZhbHVlICE9PSAnb2JqZWN0JykgY29udGludWU7XG4gICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgVGltZXN0YW1wKSB7XG4gICAgICB0YXJnZXRba2V5XSA9IHZhbHVlLnRvRGF0ZSgpIGFzIGFueTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICB0b0RhdGUodmFsdWUpXG4gIH1cbiAgcmV0dXJuIHRhcmdldDtcbn1cbiJdfQ==